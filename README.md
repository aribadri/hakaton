# СоюзМультПарк AR Experience

Интерактивное AR-приложение для посетителей ВДНХ у здания СоюзМультФильм. Проект предоставляет иммерсивный опыт дополненной реальности с любимыми персонажами мультфильмов.

## 🎯 Описание

Мобильное веб-приложение с AR-функционалом, которое накладывает 3D-модели персонажей СоюзМультФильм при наведении камеры на специальные маркеры. Включает панорамный просмотр локаций, интерактивный квиз и визуальные эффекты.

## 🚀 Технологии

- **A-Frame** (v1.3.0) - WebAR фреймворк
- **MindAR** (v1.1.5) - Image tracking для AR
- **Three.js** (v0.180.0) - 3D рендеринг и панорамы
- **GSAP** (v3.13.0) - Анимации
- **Vite** (v5.0.2) - Сборщик и dev сервер
- **Canvas Confetti** (v1.9.2) - Конфетти эффекты
- **A-Frame Particle System** - Система частиц для снега

## 📦 Установка

```bash
# Клонирование репозитория
git clone git@github.com:aribadri/hakaton.git
cd hakaton

# Установка зависимостей
yarn install

# Запуск dev сервера
yarn dev
```

## 🛠️ Команды

```bash
yarn dev      # Запуск dev сервера (http://localhost:5173)
yarn build    # Сборка для production
yarn preview  # Предпросмотр production сборки
```

## 📁 Структура проекта

```
hakaton/
├── src/
│   ├── components/
│   │   ├── preloader/          # Прелоадер с GSAP анимациями
│   │   │   ├── preloader.js
│   │   │   ├── preloader-animations.js
│   │   │   ├── preloader-markup.js
│   │   │   └── preloader.css
│   │   ├── scanner/            # Интерфейс сканирования AR-маркеров
│   │   │   ├── scanner.js
│   │   │   ├── scanner-animations.js
│   │   │   ├── scanner-markup.js
│   │   │   └── scanner.css
│   │   ├── quiz/               # Интерактивный квиз
│   │   │   ├── quiz.js
│   │   │   ├── questions.js
│   │   │   └── quiz.css
│   │   ├── animation.js        # Настройка 3D-моделей и анимации
│   │   └── screenshot.js       # Скриншоты AR-сцены
│   │
│   ├── styles/
│   │   ├── variables.css       # CSS переменные бренда
│   │   ├── fonts.css           # Шрифты (Creata-Medium)
│   │   ├── layout.css          # Общая раскладка
│   │   ├── buttons.css         # Стили кнопок
│   │   └── aframe-overrides.css # Переопределение A-Frame
│   │
│   ├── fonts/
│   │   └── Creata-Medium.woff2 # Кастомный шрифт
│   │
│   ├── index.html              # Главная страница
│   ├── index.js                # Точка входа приложения
│   ├── panorama.js             # Панорамный просмотр
│   ├── config.js               # Конфигурация (шаблоны AR-контента)
│   └── DeviceOrientationControls.js
│
├── static/
│   ├── models/                 # 3D модели (.glb)
│   │   ├── guitar4.glb         # Гитара (Волк)
│   │   ├── robot_anim.glb      # Робот (Волк)
│   │   ├── box_anim.glb        # Ящик (Трио)
│   │   ├── rogatka_noanim.glb  # Рогатка (Трио)
│   │   └── tikva.glb           # Тыква (Трио)
│   ├── targets/
│   │   └── targets-5.mind      # AR маркеры (7 якорей)
│   ├── textures/
│   │   ├── panorama1.jpg       # Панорама локации 1
│   │   ├── panorama2.jpg       # Панорама локации 2
│   │   ├── panorama3.jpg       # Панорама локации 3
│   │   └── bbl.png             # Текстура облачка
│   └── images/
│       ├── SMP_logo_invers_RGB.svg
│       ├── character-kesha.png
│       ├── character-karlson.png
│       └── character-kot.png
│
└── package.json
```

## 🎨 Основные возможности

### AR Tracking
- Распознавание 7 AR-маркеров через MindAR
- Две группы контента: **Trio** (якоря 0-3) и **Volk** (якоря 4-6)
- Разрешение камеры: 1280x720
- Адаптивное отображение сканера (скрывается при обнаружении маркера)
- Автоматическое управление контентом: добавление при `targetFound`, удаление при `targetLost`

### Прелоадер
- Градиентный фон с брендовыми цветами
- GSAP анимации логотипа и персонажей
- Прогресс-бар загрузки (0-90% автоматически, 90-100% после `arReady`)
- Плавное исчезновение с удалением из DOM

### Интерактивный квиз
- 5 вопросов о СоюзМультФильм с 4 вариантами ответа
- Прогресс-бар и счётчик вопросов
- Визуальная индикация правильных/неправильных ответов
- Результаты с конфетти эффектом при успехе (60%+)
- Модальное окно с закрытием по overlay

### Панорамы
- 3 панорамы локаций в сферическом формате (Three.js)
- DeviceOrientationControls для мобильных (с запросом разрешения на iOS)
- OrbitControls для десктопа
- Плавные переходы между панорамами с GSAP
- Кнопки навигации влево/вправо

### Визуальные эффекты
- Particle system снега (2 слоя по 4000 частиц)
- Screenshot функционал AR-сцены
- Confetti эффект при успешном прохождении квиза
- Тени и освещение для 3D-моделей

### UI/UX
- Предупреждение о ландшафтной ориентации
- Кастомизированные A-Frame диалоги на русском
- Брендированные кнопки с SVG-иконками
- Адаптивный дизайн для мобильных устройств

## 📱 Мобильная оптимизация

- Target: портретная ориентация
- Touch-friendly интерфейс
- Device orientation support с запросом разрешений
- High pixel ratio rendering (до 2x)
- Viewport управление для полноэкранного режима

## 🎨 Брендинг

Цветовая схема СоюзМультПарк:
- Primary: `#726de3`
- Secondary: `#face18`
- Border radius: `15px`
- Шрифт: Creata-Medium

## 🌐 Deploy

Проект настроен для деплоя на Vercel:

```bash
vercel deploy
```

HTTPS требуется для работы AR и датчиков устройства.

## 👥 Команда

Разработано на хакатоне Московского инновационного кластера для СоюзМультПарк

## 📄 Лицензия

MIT
